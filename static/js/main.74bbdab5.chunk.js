(this["webpackJsonpreact-rtl-reader"]=this["webpackJsonpreact-rtl-reader"]||[]).push([[0],{65:function(e,t,n){e.exports=n(78)},70:function(e,t,n){},71:function(e,t,n){},78:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),c=n(7),r=n.n(c),i=(n(70),n(71),n(110)),l=n(20),u=n(3),s=n(106),m=n(111),d=n(108),f=n(113),h=n(109),p=n(41),g=n(57),b=n.n(g),E=n(112),O=n(39),j={MENU:"\u09b8\u09c2\u099a\u09bf\u09aa\u09a4\u09cd\u09b0",ABOUT:"\u09b8\u09ae\u09cd\u09aa\u09b0\u09cd\u0995\u09c7",READ:"\u09aa\u09dc\u09c1\u09a8"},y=Object(s.a)({menu:{listStyle:"none",textAlign:"center",marginTop:15,"& li":{margintTop:10,borderBottom:"1px dotted #ccc"},"& li a":{color:"inherit",textDecoration:"none",display:"block",padding:"5px 15px"}}}),v=function(e){var t=Object(a.useState)([]),n=Object(l.a)(t,2),c=n[0],r=n[1],i=y();return Object(a.useEffect)((function(){fetch("/test/data/menu.json").then((function(e){return e.json()})).then((function(e){console.log("menu = ",e),r(e)})).catch((function(e){return console.log(e)}))}),[]),o.a.createElement(E.a,{my:3},o.a.createElement(E.a,{textAlign:"center"},o.a.createElement(O.a,{variant:"h6",gutterBottom:!0},j.MENU)),o.a.createElement(E.a,null,o.a.createElement("ul",{className:i.menu},c.map((function(e,t){return o.a.createElement("li",{key:t},o.a.createElement("a",{href:"#/read/".concat(e.id,"/").concat(encodeURIComponent(e.name))},e.name))})))))},x=function(e){return o.a.createElement("div",null,"About")},w=n(56),I=n.n(w),N=n(55),k=n.n(N),S=window.innerHeight-80,B=!1,C=Object(s.a)({storyTitle:{fontSize:18,textAlign:"center",borderBottom:"1px solid #ccc",marginTop:10},body:{color:"rgba(0, 0, 0, .9)",height:S,display:"flex",textAlign:"justify",alignItems:"center",zIndex:9,background:"#fff"},pageCount:{textAlign:"center",fontSize:14,color:"rgba(0, 0, 0, .7)",position:"fixed",left:0,right:0,bottom:0},loadPercent:{background:"#000",color:"#fff",fontWeight:500},directionIco:{display:"flex",position:"fixed",top:0,bottom:0,fontSize:30,opacity:.3,width:15,background:"rgba(0, 0, 0, .1)",alignItems:"center",justifyContent:"center"},leftIco:{left:0},rightIco:{right:0}}),T=[{path:"/menu",component:v,displayName:j.MENU},{path:"/about",component:x,displayName:j.ABOUT},{path:"/read/:id/:name",component:function(e){var t=Object(a.useState)([]),n=Object(l.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)(0),s=Object(l.a)(i,2),m=s[0],d=s[1],f=Object(a.useState)(!0),h=Object(l.a)(f,2),p=h[0],g=h[1],b=Object(a.useState)(0),O=Object(l.a)(b,2),j=O[0],y=O[1],v=e.match.params,x=v.id,w=v.name;w=decodeURIComponent(w);var N=C();Object(a.useEffect)((function(){return B=!1,fetch("/test/data/stories/"+x).then((function(e){return e.text()})).then((function(e){T(e)})).catch((function(e){return console.log(e)})),function(){return B=!0}}),[]);var T=function(e){g(!0);var t=e.split(" "),n=[];document.getElementById("hiddenhelper");!function e(a){if(B)return;if(a>t.length)return console.log((new Date).getTime()),r(n),void g(!1);var o=A(t.slice(a)),c=t.slice(a,a+o).join(" ");c.trim()&&n.push(c);a+=o;var i=Math.floor(a/t.length*100);m+1===n.length&&(console.log((new Date).getTime()),r([].concat(n)));y(i),setTimeout((function(){e(a)}),0)}(0)},A=function(e){var t="",n=Math.floor(window.innerHeight/10),a=S,o=document.getElementById("hiddenhelper");do{n+=1,t=e.slice(0,n).join(" "),o.innerText=t}while(n<e.length&&o.offsetHeight<a);return n-1};return o.a.createElement(E.a,null,o.a.createElement("div",{className:N.storyTitle},w),o.a.createElement(E.a,{className:Object(u.a)(N.body,"readerpage")},c[m]),o.a.createElement("div",{className:Object(u.a)(N.pageCount,p&&"hidden")},m+1," of ",c.length),o.a.createElement("div",{className:Object(u.a)(!p&&"hidden",N.pageCount,N.loadPercent)},o.a.createElement("span",null,"loading (",j,"%)")),o.a.createElement("span",{className:Object(u.a)(p&&"hidden")},o.a.createElement("span",{onClick:function(){return d(m-1)},className:Object(u.a)(N.directionIco,N.leftIco,0===m&&"hidden")},o.a.createElement(k.a,null)),o.a.createElement("span",{onClick:function(){return d(m+1)},className:Object(u.a)(N.directionIco,N.rightIco,m===c.length-1&&"hidden")},o.a.createElement(I.a,null))))}}],A=n(38),D=Object(s.a)({list:{width:250,"& a":{color:"inherit",textDecoration:"none"}},item:{borderBottom:"1px solid #ccc"},toggler:{position:"fixed",top:12,left:12,zIndex:99}}),U=function(e){var t=D(),n=Object(a.useState)(!1),c=Object(l.a)(n,2),r=c[0],i=c[1],u=function(){return i(!1)};return o.a.createElement(o.a.Fragment,null,o.a.createElement(b.a,{onClick:function(){return i(!0)},className:t.toggler}),o.a.createElement(m.a,{open:r,onClose:u},o.a.createElement("div",{className:t.list,role:"presentation",onClick:u,onKeyDown:u},o.a.createElement(d.a,null,T.filter((function(e){return e.displayName})).map((function(e){return o.a.createElement(A.b,{to:e.path,key:e.path},o.a.createElement(f.a,{button:!0,className:t.item},o.a.createElement(h.a,{primary:e.displayName})))}))))))},M=n(21),R=n(59),z=n(45),W={sidebarOpen:!0},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UI_OPEN_SIDEBAR":return Object(z.a)({},e,{sidebarOpen:!0});case"UI_CLOSE_SIDEBAR":return Object(z.a)({},e,{sidebarOpen:!1});default:return e}},H=Object(M.combineReducers)({ui:_}),P=n(60),J=n(25),F=Object(M.createStore)(H,Object(P.composeWithDevTools)(Object(M.applyMiddleware)(R.a)));var K=function(){return o.a.createElement(p.a,{store:F},o.a.createElement(A.a,null,o.a.createElement(U,null),o.a.createElement(i.a,{maxWidth:"sm"},o.a.createElement(J.c,null,T.map((function(e){return o.a.createElement(J.a,Object.assign({key:e.path},e))}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(K,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[65,1,2]]]);
//# sourceMappingURL=main.74bbdab5.chunk.js.map